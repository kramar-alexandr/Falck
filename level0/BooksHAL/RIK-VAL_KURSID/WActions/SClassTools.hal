external procedure OpenAddressLookupHelper(Integer);

global
function Boolean VESClassCommandNew(Integer wn)
BEGIN
  Integer mwn,wn2;
  record CUVc CUr;
  record CUVc oldCUr;
  
  mwn = MotherWindow(wn);
  CloseWindow(wn);
  RecordNew(CUr);
  oldCUr.Code = CUr.Code;
  if (ReadFirstMain(oldCUr,1,true)) then begin CUr.Code = ""; end;
  CUr.CUType = 0;
  CUr.VEType = 1;
  CUr.CustCat = "";
  CUr.PayDeal = "";
  wn2 = OpenWindow("CUDClass",1,mwn,"","",CUr);  
//cust - fix
  WindowFieldGoto(wn2,CUr,-1,"Code",false);
  if (GetWindowString(wn,"__helperalreadyshown")!="1") then begin
    PutWindowString(wn,"__helperalreadyshown","1");
    OpenAddressLookupHelper(wn);
  end;
//cust - fix end
  VESClassCommandNew = true;
  RETURN;
END;
